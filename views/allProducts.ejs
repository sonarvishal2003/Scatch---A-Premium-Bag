<%- include('./partials/header') %>

<% if (success.length > 0) { %>
    <div class="p-3 bg-green-100 text-green-800 rounded shadow mb-4 text-center">
        <%= success[0] %>
    </div>
<% } %>

<div class="min-h-screen p-10">
    <a class="block w-fit mb-2" href="/owners/admin">Create New Products</a>
    <div class="flex justify-between mb-4">
        <h2 class="text-2xl font-bold">All Products</h2>
        <a href="/owners/admin/delete-all" class="text-red-500 font-semibold hover:underline">Delete All</a>
    </div>

    <div class="flex flex-wrap gap-5">
        <% if (products.length === 0) { %>
            <p class="text-gray-600">No products found.</p>
            <div>
                <a class="block w-fit mb-2" href="/owners/admin">Create New Products</a>
            </div>
        <% } else { %>
            <% products.forEach(item => { %>
                <div class="w-60 bg-gray-100 shadow rounded overflow-hidden">
                    <div class="w-full h-52 flex items-center justify-center bg-[<%= item.bgcolor %>]">
                        <% if (item.image) { %>
                            <img class="h-[12rem]" src="<%= item.image %>" alt="Product" class="w-full h-full object-cover" />
                        <% } else { %>
                            <p class="text-center text-sm p-2 text-gray-500">No image</p>
                        <% } %>
                    </div>
                    <div class="p-4 bg-[<%= item.panelcolor %>] text-black">
                        <h3 class="font-semibold text-lg"><%= item.name %></h3>
                        <h4 class="text-gray-700">â‚¹ <%= item.price %></h4>
                        <div class="flex justify-between items-center mt-4">
                            <a href="/owners/admin/delete/<%= item._id %>" class="text-red-500 hover:underline">Delete</a>
                        </div>
                    </div>
                </div>
                
            <% }) %>
        <% } %>
    </div>
</div>

<%- include('./partials/footer') %>
